<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> 
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=iso-8859-1">
<TITLE>cur_nurbsarr</TITLE>
<style type="text/css">
<!--
p.h{font-weight: bold; line-height: 21pt}
-->
</style>
</HEAD>
<BODY BGCOLOR="#99CCFF">
<p>
<CENTER><FONT SIZE=-1>VARKON Version 1.17D 2003-02-28</FONT></CENTER>
</p>
<HR width="100%" align="center">
&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD width="35">
&nbsp;<BR>
</TD>
<TD>
<H2>
cur_nurbsarr - <FONT SIZE=+0>geometric procedure</FONT></H2>

<TABLE BORDER=0>
<TR><TD>
<P>Creates a NURBS curve</TD></TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD><p class=h>Description</P> 
</TD></TR><TR><TD>Creates a NURBS curve from control points and optional weights and knots. 
Input data is given in arrays. If you dont know what order to use we recomend order = 4  
(NURBS order = NURBS degree +1).<br>
Knots may be uniformly spaced or non uniformly.
To get a rational curve, weights may be given. Default is 1.0 for all weights (non rational).
</TD></TR></TABLE>&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD><p class=h>Syntax</P> 
</TD></TR><TR><TD>cur_nurbsarr(id, order, ncpts, cpts, weights, knots :attributes);</TD></TR></TABLE>
&nbsp;<BR>
<TABLE BORDER=0 WIDTH="640">
<TR>
<TD WIDTH="80">REF</TD>
<TD WIDTH="580">id</TD>
</TR>
<TR>
<TD WIDTH="80">INT</TD>
<TD WIDTH="580">order</TD>
</TR>
<TR>
<TD WIDTH="80">INT</TD>
<TD WIDTH="580">ncpts</TD>
</TR>
<TR>
<TD WIDTH="80">VECTOR</TD>
<TD WIDTH="580">cpts( )</TD>
</TR>
<TR>
<TD WIDTH="80">FLOAT</TD>
<TD WIDTH="580">weights( )</TD>
</TR>
<TR>
<TD WIDTH="80">FLOAT</TD>
<TD WIDTH="580">knots( )</TD>
</TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0 WIDTH="640">
<TR><TD colspan=2>
<p class=h>Principal parameters</P> 
</TD></TR>
<TR>
<TD WIDTH="80" valign="top">id</TD>
<TD WIDTH="580" valign="top">- Local identity</TD>
</TR>
<TR>
<TD WIDTH="80" valign="top">order</TD>
<TD WIDTH="580" valign="top">- Nurbs order (order=degree+1)</TD>
</TR>
<TR>
<TD WIDTH="80" valign="top">ncpts</TD>
<TD WIDTH="580" valign="top">- Number off control points</TD>
</TR>
<TR>
<TD WIDTH="80" valign="top">cpts( )</TD>
<TD WIDTH="580" valign="top">- Array with control points</TD>
</TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0 WIDTH="640">
<TR><TD colspan=2>
<p class=h>Optional parameters</P> 
</TD></TR>
<TR>
<TD WIDTH="80" valign="top">weights( )</TD>
<TD WIDTH="580" valign="top">- Array with weights (number of weights shall be same as ncpts)</TD>
</TR>
<TR>
<TD WIDTH="80" valign="top">knots( )</TD>
<TD WIDTH="580" valign="top">- Array with knot values (number of knot values shall be ncpts + order)</TD>
</TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD colspan=2>
<p class=h>Attributes</P></TD></TR>
<TR>
<TD WIDTH="80">PEN</TD>
<TD WIDTH="580">- Pen or colour number</TD>
</TR>
<TR>
<TD WIDTH="80">LEVEL</TD>
<TD WIDTH="580">- Level number</TD>
</TR>
<TR>
<TD WIDTH="80">BLANK</TD>
<TD WIDTH="580">- Visible(0) or invisible(1)</TD>
</TR>
<TR>
<TD WIDTH="80">CFONT</TD>
<TD WIDTH="580">- Solid(0), dashed(1) or centerline(2)</TD>
</TR>
<TR>
<TD WIDTH="80">CDASHL</TD>
<TD WIDTH="580">- Dashlength</TD>
</TR>
<TR>
<TD WIDTH="80">WIDTH</TD>
<TD WIDTH="580">- Linewidth</TD>
</TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD>
<p class=h>Examples</P></TD></TR>
<TR><TD>
<code>
CONSTANT <b>INT</b> order=4;<br>
CONSTANT <b>INT</b> ncpts=5;<br>
<b>VECTOR</b> cpts(5);<br>
<b>FLOAT</b>  weights(5);<br>
<b>FLOAT</b>  knots(9);<br>
<br>
<b>cur_nurbsarr</b>(#10,order, ncpts, cpts, weights, knots);
</code>
</TD></TR>
</TABLE>
&nbsp;<BR>

<TABLE BORDER=0>
<TR><TD>
<p class=h>Comments</P></TD></TR>
<TR><TD>
A NURBS curve interpolates start and end point if the first and last knot value 
is repeated <i>order</i> times. <br>
A uniform knotvector for the example above could be: {0 0 0 0 0.5 1 1 1 1} This curve 
will then have 2 segments (NURBS spans).<br>
The curve will be evaluated with the given (possibly non uniform) knotvector, but the varkon
parameterization for successive operations, on( ), norm( ) etc. vill be similar as for other 
curvetypes, i.e. 0-1 for first segment, 1-2 for second segment etc.<br>
&nbsp;<br>
<u>Limitations:</u><br>
A NURBS curve can not yet be trimmed or included in a composite curve.<br>
inv_arcl( ) may fail for some NURBS-curves.
</TD></TR>
</TABLE>
</TD>
<TD width="35">
&nbsp;<BR>
</TD>
</TR>
</TABLE>
<HR width="100%" align="center">
<CENTER>
<TABLE CELLSPACING=10 CELLPADDING=0 >
<TR>
<TD><A HREF="../index.htm">VARKON Homepage</A></TD>
<TD><A HREF="entiindx.htm">Index</A></TD>
</TR>
</TABLE></CENTER>
</BODY>
</HTML>
