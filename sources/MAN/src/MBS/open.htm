changequote({,})
define({_TITLE_},{Varkon MBS Programmers manual})
define({_SUBTITLE_},{- open - Procedure})
define({_INDEXLINK_},{<a href="fileindx.htm">index</a>})
define({_STYLE_},{../varkonstyle.css})
include(../../include/header.inc)


<h1>open - Procedure</h1>

<h2>Description</h2>

<p>
Used to establish connection with an existing file or to create a new file or pipe to another program.
</p>

<h2>Syntax</h2>

<pre>
  open(f, mode, name);

  file f;
  string mode;
  string name;
</pre>

<h2>Principal parameters</h2>

<table>
<tr>
<td>f</td>
<td>- The name of a filevariable to be used for successive
operations</td>
</tr>

<tr>
<td>mode</td>
<td>- Type of operations to be allowed on the opened file or
pipe</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; R = Read from file</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; W = Write to file (if file exists it is overwritten
otherwise it is created)</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; A = Append to file (if no file exists it is
created)</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; U = Update (read, write and seek)</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; RP = Read from pipe</td>
</tr>

<tr>
<td></td>
<td>&nbsp;&nbsp; WP = Write to pipe</td>
</tr>

<tr>
<td>name</td>
<td>- Name and path of file to open or command to create the pipe</td>
</tr>
</table>

<h2>Optional parameters</h2>

<p>None.</p>

<h2>Examples</h2>

<pre>
  FILE f;

  open(f, &quot;r&quot; , &quot;/usr/mydir/job.dat&quot;); ! Opens a file named job.dat in /usr/mydir for reading only.

  open(f, &quot;w&quot;, &quot;new.dat&quot;); ! Creates a new file named new.dat in current directory.

  open(f, &quot;rp&quot;, &quot;cd /usr/mydir;ls&quot;); ! Creates a read-pipe to the output of the ls-program.
</pre>


<h2>Comments</h2>

<p>
Mode codes may be upper or lower case.
</p>

<p>
open() automatically resets the current filepointer position within the file to zero.
</p>

<p>
An attempt to open a file more than once without first closing it is treated
as an error. It is also important to close the file before accessing it
from other programs than Varkon.
</p>

<p>
The <a href="iostat.htm">iostat()</a> function can be used to detect errors.
</p>

<p>
All files opened by the open() procedure are automatically closed when you exit Varkon.
</p>

<h2>See also</h2>

<p><a href="close.htm">close()</a></p>

include(../../include/svnversion.inc)
include(../../include/footer.inc)
